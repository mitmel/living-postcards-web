/*!
 *  
 * Main Styles for Living Postcards
 * MIT Mobile Experience Lab 
 * built on
 * Bootstrap v2.1.0
 *
 * Copyright 2012 Twitter, Inc
 * Licensed under the Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Designed and built with all the love in the world @twitter by @mdo and @fat.
 */


/* Load Select Bootstrap styles */

// CSS Reset
@import "reset.less";

// Core variables and mixins
@import "variables.less"; // Modify this for custom colors, font-sizes, etc
@import "mixins.less";

// Grid system and page structure
@import "scaffolding.less";
@import "grid.less";
@import "layouts.less";

// Base CSS
@import "type.less";
@import "code.less";
@import "forms.less";
@import "tables.less";

// Components: common
@import "sprites.less";
@import "dropdowns.less";
@import "wells.less";
@import "component-animations.less";
@import "close.less";

// Components: Buttons & Alerts
@import "buttons.less";
@import "button-groups.less";
@import "alerts.less"; // Note: alerts share common CSS with buttons and thus have styles in buttons.less

/* Base Styles for Living Postcards */

//max height for postcards: need to set so they float in a grid
@pcHeight:280px;
@pcHeight1200:340px;
@pcHeight768:240px;


html {
        background-color:@paleBlue;
}

body{
	background-image:url('../img/textured_arches.png');
	font-family:@sansFontFamily;
}

header{
	height:160px;
        position:relative;
        overflow:hidden;
	background-color:white;
	background-image:url('../img/silhouetteBackground.jpg');
	background-repeat:repeat-x;
        .box-shadow(inset 0px 0px 12px @grayDark);
        .logo{
            .hide-text;
            width:400px;
            height:71px;
            background-image:url('../img/logo_red.png');
            position:relative;
            top:@baseLineHeight;
            margin:0 auto; 
        }
        a:hover{
            text-decoration:none;
        }
        #silhouette{
            background-image:url('../img/city_trans.png');
            background-position:center;
            background-repeat: no-repeat;
            position:absolute;
            width:100%;
            height:283px;
            max-width:none;
            bottom:0;
        } 
        #nav {
	    position:absolute;
            margin-top:12px;
            width:100%;	
            ul{
                text-align:center;
                margin-top:16px;
                li{
                    display:inline-block;
                    font-size:@baseFontSize*1.3;
                    margin:0 @baseFontSize*.25;
                    a{
                        .transition(color 0.5s ease);
                        text-shadow: 0px 2px 3px @white;
                        text-decoration:none;
	                color: @accentRed;
                        &:hover{
                             color:darken(@accentRed, 30%);
                        }
                    }
                }
            }
        }
}

//mixin to give postcard card-like border

.postcard-border(@border-width:15){
     @half-border: @border-width*.5;
     @shadow-rule: ~"0 0 4px 1px @{white},0 0 0 @{border-width}px @{white}, 0 0 8px @{border-width}px @{gray}";
    .box-shadow(@shadow-rule);
}

#content{ 
    #content-nav{
        float:right;
        margin-bottom:@gridGutterWidth1200;
        .btn{
            &.active{
            }
        }
    }  
    .row{
        clear:both;
    }
    .postcard{
        .transition(all 0.2s ease);
        margin-bottom:@gridGutterWidth1200;
        position:relative; 
        .title{
            color:@accentRed;
            font-weight:400;
            margin-bottom:0;
            line-height:1;
            text-shadow: 0px 1px 2px @white;
        }
        .author{
            margin-top:0;
            font-weight:400;
            color:@paleBlue;
            text-transform:Capitalize;
            color:darken(@paleBlue, 20%);
            
        }
        .description{
             color:@paleBlue;
        }
        a:hover{
            text-decoration:none;
        }
    }

    //gallery

    #gallery{
        padding-top:@gridGutterWidth1200;
        .postcard{
            height:@pcHeight;
        }
        .postcard-image{
            padding:12px;
            .thumb{
                width:100%;
                .postcard-border(12);
                
                //make card thumb expand on hover and active states
                
                .transition(~"width .2s ease, top .2s ease, left .2s ease");
                
                &.gif{
                    position:absolute;
                    top:5%;
                    left:5%;
                    width:90%;
                    opacity:0;
                }
                &.still{
                    opacity:1;
                }
            }
            &:hover, &:active{
                .thumb{
                    &.gif{
                        top:2%;
                        left:0;
                        width:100%;
                        opacity:1;
                    }
                    &.still{
                        opacity:0;
                    }

                }
            }
        }
    }

    //single postcard

    #postcard-view{
         padding:@gridGutterWidth1200*2 0 @gridGutterWidth1200 0;
        .postcard-image{ 
            .transition(width 0.2s ease);
            padding:15px;
            img{
                width:100%;
                .postcard-border(15);               
            }
        }
    } 
}

footer{
    width:100%;
    background-color:@paleBlue;
    #footer-links{
        text-align:center;
        padding:@gridGutterWidth1200;
        a{
            color:lighten(@paleBlue, 60%);
            display:inline-block;
            margin-right:@baseFontSize;
            text-shadow: 0px 1px 2px darken(@paleBlue, 20%);
            &:hover{
                text-decoration:none;
            }

        }
    }
}

/* Responsive Bootstrap */

@import "responsive.less";


/* Custom Responsive Rules */

// Large desktop and up

@media (min-width: 1200px) {
    #content{
        #gallery{
            padding:@gridGutterWidth1200 0;
            #content-nav{
                margin-bottom:@gridGutterWidth1200;
            }
            .postcard{
                height:@pcHeight1200;
                margin-bottom:@gridGutterWidth1200;
                .postcard-image{
                    padding:15px;
                    .thumb{
                        .postcard-border(12);
                    }
                }  
            }
        }
        #postcard-view{
             padding:@gridGutterWidth1200*2 0 @gridGutterWidth1200 0;
        }
    }
}

//Tablet to desktop

@media (min-width: 768px) and (max-width: 979px) {
    #content{
        #gallery{
            padding:@gridGutterWidth768 0;
            #content-nav{
                margin-bottom:@gridGutterWidth768;
            }
            .postcard{
                height:@pcHeight768;
                margin-bottom:@gridGutterWidth768;
                .postcard-image{
                    padding:10px;
                    .thumb{
                        .postcard-border(10);
                    }
                }  
            }
        } 
        #postcard-view{
             padding:@gridGutterWidth768*2 0 @gridGutterWidth768 0; 
        }
    }  
}

//Landscape phone to desktop/tablet

@media (max-width: 767px) {
    #content{
        #gallery{
            padding:@gridGutterWidth @gridGutterWidth*2;
            #content-nav{
                margin-bottom:@gridGutterWidth;
                float:none;
                text-align:center;
            }
            .postcard{
                height:auto;
                margin-bottom:@gridGutterWidth;
                .postcard-image{
                    padding:15px;
                    .thumb{
                        .postcard-border(15);
                    }
                }  
            }
        } 
        #postcard-view{
             padding:@gridGutterWidth*2 @gridGutterWidth*2 @gridGutterWidth @gridGutterWidth*2;
        }
    }
}


/* Utilities */
@import "utilities.less"; // Has to be last to override when necessary
