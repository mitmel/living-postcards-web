/*!
 *  
 * Main Styles for Living Postcards
 * MIT Mobile Experience Lab 
 * built on
 * Bootstrap v2.1.0
 *
 * Copyright 2012 Twitter, Inc
 * Licensed under the Apache License v2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Designed and built with all the love in the world @twitter by @mdo and @fat.
 */


/* Load Select Bootstrap styles */

// CSS Reset
@import "reset.less";

// Core variables and mixins
@import "variables.less"; // Modify this for custom colors, font-sizes, etc
@import "mixins.less";

// Grid system and page structure
@import "scaffolding.less";
@import "grid.less";
@import "layouts.less";

// Base CSS
@import "type.less";
@import "code.less";
@import "forms.less";
@import "tables.less";

// Components: common
@import "sprites.less";
@import "dropdowns.less";
//@import "wells.less";
//@import "component-animations.less";
//@import "close.less";

// Components: Buttons & Alerts
@import "buttons.less";
@import "button-groups.less";
//@import "alerts.less"; // Note: alerts share common CSS with buttons and thus have styles in buttons.less

/* Base Styles for Living Postcards */

//max height for postcards: need to set so they float in a grid
@pcHeight:280px;
@pcHeight1200:340px;
@pcHeight768:240px;


html {
        background-color:@paleBlue;
}

body{
	background-image:url('../img/textured_arches.png');
	font-family:@sansFontFamily;
}

header{
	height:160px;
        position:relative;
        overflow:hidden;
	background-color:white;
	background-image:url('../img/silhouetteBackground.jpg');
	background-repeat:repeat-x;
        .box-shadow(0px 0px 12px @grayDark);
        .logo{
            .hide-text;
            width:480px;
            height:71px;
            background-image:url('../img/logo_red_beta.png');
            position:relative;
            top:@baseLineHeight;
            margin:0 auto; 
        }
        a:hover{
            text-decoration:none;
        }
        #silhouette{
            background-image:url('../img/city_trans.png');
            background-position:center;
            background-repeat: no-repeat;
            position:absolute;
            width:100%;
            height:283px;
            max-width:none;
            bottom:0;
        } 
        #nav {
	    position:absolute;
            margin-top:12px;
            width:100%;	
            ul{
                text-align:center;
                margin-top:16px;
                li{
                    display:inline-block;
                    font-size:@baseFontSize*1.3;
                    margin:0 @baseFontSize*.25;
                    a{
                        .transition(color 0.5s ease);
                        text-shadow: 0px 2px 3px @white;
                        text-decoration:none;
	                color: @accentRed;
                        &:hover{
                             color:darken(@accentRed, 30%);
                        }
                    }
                }
            }
        }
}

//mixin to give postcard card-like border

.postcard-border(@border-width:15){
     @half-border: @border-width*.5;
     @shadow-rule: ~"0 0 4px 1px @{white},0 0 0 @{border-width}px @{white}, 0 0 8px @{border-width}px @{gray}";
    .box-shadow(@shadow-rule);
}

.card-shadow(@spread:8){
    .box-shadow(~"0 0 @{spread}px 0 @{gray}");
}

#content{ 
    .flatpage{
        .card-shadow;
        background-color:#fff;
        padding:@baseLineHeight;
        margin:@baseLineHeight*3 auto;
        max-width:600px;
        .photo-credit{
            color:@white;
            position:relative;
            margin:0;
            height:0;
            top:-@baseLineHeight*1.25;
            right:10px;
            font-weight:300;
            font-size:.8em;
            text-align:right;
            font-style:italic;
        }
        &#home {
            h2 {
                font-family: "Parisienne";
                color: @grayDark;
                font-size: 34px;
                font-weight: 300;
                margin-bottom:@baseLineHeight*2;
            }
            .welcome{
                font-size:72px;
                font-weight: 800;
                margin-bottom:0;
                padding-bottom:@baseLineHeight;
                 border-bottom: 1px solid @grayLight;
            }
            .links {
                border-top: 1px solid @grayLight;
                border-bottom: 1px solid @grayLight;
                margin:@baseLineHeight*1.5 0;
            }
            .btn {
                margin:@baseLineHeight*1.2 @baseLineHeight ;
                font-family: "Parisienne";
                font-size: 28px;
                font-weight: 300;
                padding: 30px 20px;
            }
        }
        .logo{
            margin-right:@baseLineHeight*2;
            &.avea{
                width:300px;
            }
            &.mel{
                width:100px;
            }
        }
        p,li{
            line-height:2;
            font-family: "Helvetica", arial, sans-serif;
        }
        li{
            line-height:1.5;
            margin-bottom:@baseLineHeight*.5;
        }
        h1, h2, h3{
            color:@accentRed;
            line-height:1.2;
            margin-top:@baseLineHeight*1.5;
        }
    }
    #loading{
        margin:@baseLineHeight*4 auto;
        background-color:#fff;
        .card-shadow;
        padding:2px 8px;
        color:@gray;
        width:150px;
        .loader{
            position:relative;
            top:5px;
            left:7px;
            float:left;
            margin-right:@baseLineHeight;
            display:block;
            width:31px;
            height:31px;
            background-image:url('../img/loader.gif');
        }
    }
    #content-nav{
        margin-bottom:@gridGutterWidth1200;
        #dist-filter {
            div  {
                float: right;
            }
            #dist-filter-button {
                margin-left: 5px;
            }
            .list-header {
                font-weight: bold;
                margin-left: 20px;
            }
        }
    }  
    .row{
        clear:both;
    }
    .postcard{
        .transition(all 0.2s ease);
        margin-bottom:@gridGutterWidth1200;
        position:relative; 
        .title{
            color:@accentRed;
            font-weight:400;
            margin-bottom:0;
            line-height:1;
            text-shadow: 0px 1px 2px @white;
        }
        .author{
            margin-top:0;
            font-weight:400;
            color:@paleBlue;
            text-transform:Capitalize;
            color:darken(@paleBlue, 20%);
            .seperator{
                text-transform:lowercase;
            }
        }
        .description{
            color:darker(@paleBlue, 10%);
            line-height:1.2; 
        }
        a:hover{
            text-decoration:none;
        }
    }

    //gallery

    #gallery{
        padding-top:@gridGutterWidth1200;
        min-height:800px;
        .postcard{
            height:@pcHeight;
            
            .details{
                padding:0 3%;
                .author{
                    margin-bottom:0;
                }
            }
        }
        .postcard-image{
            position:relative;
            background-color:white;
            .card-shadow;
            
            //make card thumb expand on hover and active states
            
            //.transition(~"width .2s ease, top .2s ease, left .2s ease");
            
            .still, .gif-preview{
                padding:3%;
                width:94%;
            }           
 
            .gif-preview{
                position:absolute;
            }
            .still{
                visibility:none;
            }
            &:hover, &:active{
                .gif-preview{
                }
                .still{
                }
                .date, .likes{
                    opacity:1;
                }
            }
            .date, .likes{
                position:absolute; 
                color:@white;
                background-color:rgba(10,10,10,.3);
                padding:3px 5px;
                opacity:0;
                .transition(opacity 0.1s ease);
            }
            .date{
                left:8%;
                bottom:5%;
            }
            .likes{
                top:9%;
                left:8%;
            }
        }
    }

    //single postcard

    #postcard-view{
         padding:@gridGutterWidth1200*2 0 @gridGutterWidth1200 0;
        
        .postcard-image, .map{
            background-color:white;
            .card-shadow;
            img{
                padding:2%;
                width:96%;
            }
        } 

        .details{
            margin-bottom:@baseLineHeight;
            
            .time-range{
                display:block;
                color:@accentRed;
            }
        }

        .postcard-image{ 
            .transition(width 0.2s ease);
            margin-bottom:@baseLineHeight;
        }
        .map{
        }
        
    } 
}

footer{
    width:100%;
    background-color:@paleBlue;
    #footer-links{
        text-align:center;
        padding:@gridGutterWidth1200;
        a{
            color:lighten(@paleBlue, 60%);
            display:inline-block;
            margin-right:@baseFontSize;
            text-shadow: 0px 1px 2px darken(@paleBlue, 20%);
            &:hover{
                text-decoration:none;
            }

        }
    }
}

/* Responsive Bootstrap */

@import "responsive.less";

/* Custom Responsive Rules */

// Large desktop and up

@media (min-width: 1200px) {
    #content{
        #gallery{
            padding:@gridGutterWidth1200 0;
            #content-nav{
                margin-bottom:@gridGutterWidth1200;
            }
            .postcard{
                height:@pcHeight1200;
                margin-bottom:@gridGutterWidth1200;
                .postcard-image{
                    //padding:15px;
                    .thumb{
                        .postcard-border(12);
                    }
                }  
            }
        }
        #postcard-view{
             padding:@gridGutterWidth1200*2 0 @gridGutterWidth1200 0;
        }
    }
}

//Tablet to desktop

@media (min-width: 768px) and (max-width: 979px) {
    #content{
        #gallery{
            padding:@gridGutterWidth768 0;
            #content-nav{
                margin-bottom:@gridGutterWidth768;
            }
            .postcard{
                height:@pcHeight768;
                margin-bottom:@gridGutterWidth768;
                .postcard-image{
                    //padding:10px;
                    .thumb{
                        .postcard-border(10);
                    }
                }  
            }
        } 
        #postcard-view{
             padding:@gridGutterWidth768*2 0 @gridGutterWidth768 0; 
        }
    }  
}

//Landscape phone to desktop/tablet

@media (max-width: 767px) {
    #content{
        #gallery{
            padding:@gridGutterWidth @gridGutterWidth*2;
            #content-nav{
                margin-bottom:@gridGutterWidth;
            }
            .postcard{
                height:auto;
                margin-bottom:@gridGutterWidth;
                .postcard-image{
                    //padding:15px;
                    .thumb{
                        .postcard-border(15);
                    }
                }  
            }
        } 
        #postcard-view{
             padding:@gridGutterWidth*2 @gridGutterWidth*2 @gridGutterWidth @gridGutterWidth*2;
        }
    }
}

/* Utilities */
@import "utilities.less"; // Has to be last to override when necessary
